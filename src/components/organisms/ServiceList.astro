---
import { Image } from "astro:assets";
import imagePolygon from "@assets/polygon.png";
import { getCollection } from "astro:content";
const services = await getCollection("services");
---

<section
    class="px-5 lg:px-20 dark:z-10 py-10 bg-gray-50 text-gray-800 dark:text-gray-200 dark:bg-gray-900 relative"
>
    <Image
        src={imagePolygon}
        width={imagePolygon.width - 100}
        height={imagePolygon.height - 100}
        alt={`polygon`}
        loading={"eager"}
        class={`absolute md:right-60 right-0 z-0 opacity-30 dark:opacity-5 animate-shakeY`}
    />
    <article class="relative">
        <p
            class="text-xs lg:text-base dark:text-white dark:border-gray-200 text-blue-800 font-medium font-roboto border-b-2 border-blue-800 inline pb-2"
        >
            Layanan
        </p>
        <div class="grid lg:grid-cols-2 lg:gap-10 items-start">
            <h2
                class="lg:text-4xl text-2xl font-bold font-roboto mt-5 dark:text-white"
            >
                Layanan yang Kami Tawarkan
            </h2>
            <div class="text-right flex lg:justify-end">
                <a
                    href="https://api.whatsapp.com/send?phone=6289512589756"
                    class="border-2 border-blue-800 text-nowrap flex items-center hover:bg-blue-800 duration-500 hover:text-white gap-3 group font-roboto font-semibold px-7 py-3 rounded-full"
                    target="_blank"
                    rel="noopener noreferrer"
                >
                    Meet Dengan Team Kami
                    <svg
                        xmlns="http://www.w3.org/2000/svg"
                        width="1.5em"
                        height="1.5em"
                        viewBox="0 0 24 24"
                        class="group-hover:translate-x-3 transition-all duration-500"
                    >
                        <path
                            fill="currentColor"
                            d="M22 12a10 10 0 0 1-10 10A10 10 0 0 1 2 12A10 10 0 0 1 12 2a10 10 0 0 1 10 10M6 13h8l-3.5 3.5l1.42 1.42L17.84 12l-5.92-5.92L10.5 7.5L14 11H6z"
                        ></path>
                    </svg>
                </a>
            </div>
        </div>
    </article>
    <article class="relative mt-10 flex flex-wrap gap-5">
        {
            services.map((item, index) => (
                <div
                    class={`border-2 grid relative md:grid-cols-2 p-5 gap-10 overflow-hidden xl:w-[80%] rounded-xl bg-gray-50 ${index % 2 != 0 && "ml-auto"}`}
                >
                    <Image
                        class="h-auto"
                        src={item.data.image}
                        width={item.data.image.width - 200}
                        height={item.data.image.height - 200}
                        alt={`image thumb ${index}`}
                        quality={100}
                        class={`w-[250px] h-auto lg:w-[300px]`}
                        format="webp"
                    />
                    <p class="absolute text-[5rem] font-roboto md:left-[40%] right-10 text-gray-800/60 md:top-[30%]">
                        {index + 1}
                    </p>
                    <div class="flex flex-col gap-3 justify-center font-roboto">
                        <h3 class="md:text-3xl text-xl font-bold">
                            {item.data.title}
                        </h3>
                        <p class="lg:text-lg text-base">{item.data.detail}</p>
                    </div>
                </div>
            ))
        }
    </article>
</section>
